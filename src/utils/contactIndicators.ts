import type { ContactIndicatorState } from '../types';

/**
 * Определяет состояние индикатора контакта на основе количества дней с контактом за 7 дней
 * ВСЕ 3 ИКОНКИ заполняются синхронно в зависимости от общего количества дней контакта
 * @param days - общее количество уникальных дней с контактом (0-7)
 * @returns состояние индикатора
 * 
 * Шкала заполнения:
 * - 0 дней: empty - все иконки серые
 * - 1-2 дня: light - лёгкая заливка (20-30%)
 * - 3-4 дня: medium - средняя заливка (50-60%)
 * - 5-6 дней: strong - почти полная заливка (80-90%)
 * - 7 дней: filled - полностью залитые иконки (100%)
 */
export function getContactIndicatorState(days: number): ContactIndicatorState {
  if (days === 0) return 'empty';      // 0 дней - все иконки серые
  if (days >= 1 && days <= 2) return 'light';  // 1-2 дня - лёгкая заливка (20-30%)
  if (days >= 3 && days <= 4) return 'medium'; // 3-4 дня - средняя заливка (50-60%)
  if (days >= 5 && days <= 6) return 'strong'; // 5-6 дней - почти полная заливка (80-90%)
  return 'filled';                      // 7 дней - полностью залитые (100%)
}

